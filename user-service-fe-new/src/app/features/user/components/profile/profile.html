<div class="page">
    <form class="card" [formGroup]="form" (ngSubmit)="submit()">
      <h1>{{ (isEditMode$ | async) ? 'Edit Profile' : 'Create Profile' }}</h1>
  
      <label>First Name *</label>
      <input type="text" formControlName="first_name" placeholder="First name" />
      <div class="error" *ngIf="form.controls['first_name'].touched && form.controls['first_name'].invalid">
        First name is required
      </div>
  
      <label>Last Name *</label>
      <input type="text" formControlName="last_name" placeholder="Last name" />
      <div class="error" *ngIf="form.controls['last_name'].touched && form.controls['last_name'].invalid">
        Last name is required
      </div>
  
      <label>Birth Date</label>
      <input type="date" formControlName="birth_date" />
  
      <label>Gender</label>
      <select formControlName="gender">
        <option value="">Select gender</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="other">Other</option>
      </select>
  
      <div class="error" *ngIf="errorMsg$ | async as error">{{ error }}</div>
  
      <button type="submit" [disabled]="form.invalid || (isSaving$ | async)">
        {{ (isSaving$ | async) ? 'Saving...' : ((isEditMode$ | async) ? 'Update Profile' : 'Create Profile') }}
      </button>
    </form>
  </div>